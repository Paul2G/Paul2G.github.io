---
import { myTechnologies } from "@/data/technologies";

const skills = [
  {
    category: "Frontend",
    items: myTechnologies.filter((tech) => tech.category === "Frontend"),
  },
  {
    category: "Backend",
    items: myTechnologies.filter((tech) => tech.category === "Backend"),
  },
  {
    category: "Database",
    items: myTechnologies.filter((tech) => tech.category === "Database"),
  },
  {
    category: "DevOps",
    items: myTechnologies.filter((tech) => tech.category === "DevOps"),
  },
  {
    category: "Languages",
    items: myTechnologies.filter((tech) => tech.category === "Languages"),
  },
];

console.log(skills);
---

<section id="about" class="section py-16">
  <div class="container mx-auto px-4">
    <h2 class="section-title font-mono">
      <span class="text-primary">_</span>About Me
    </h2>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
      <div class="space-y-6">
        <p class="text-lg leading-relaxed">
          I'm a passionate software developer with expertise in building modern
          web applications. With a background in computer science and years of
          industry experience, I specialize in creating efficient, scalable, and
          user-friendly solutions.
        </p>

        <p class="text-lg leading-relaxed">
          My journey in software development began during my university years,
          where I discovered my passion for coding. Since then, I've worked on
          various projects, from small business websites to complex enterprise
          applications.
        </p>

        <div class="pt-4">
          <a
            href="/files/resume.pdf"
            target="_blank"
            class="flex w-fit gap-2 items-center px-6 py-3 font-mono font-bold border-2 border-primary bg-primary text-tertiary dark:text-secondary hover:bg-transparent hover:!text-primary transition-colors duration-300"
          >
            <i class="ph-fill ph-read-cv-logo text-xl"></i>
            Download Resume
          </a>
        </div>
      </div>

      <div>
        <h3 class="text-xl font-bold font-mono mb-6 relative inline-block">
          <span class="text-primary">_</span>Skills & Technologies
          <span class="absolute bottom-0 left-0 w-full h-1 bg-primary"></span>
        </h3>

        <div class="space-y-6">
          {
            skills.map((skillSet) => (
              <div>
                <h4 class="font-mono font-bold mb-2">{skillSet.category}</h4>
                <div class="flex flex-wrap gap-2">
                  {skillSet.items.map((skill) => (
                    <span class="flex gap-1 items-center py-1 px-3 border-2 border-secondary dark:border-tertiary font-mono text-sm">
                      {skill.icon ? (
                        <skill.icon
                          alt={skill.name}
                          class="inline-block mr-1 w-3"
                        />
                      ) : null}
                      {skill.name}
                    </span>
                  ))}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  window.addEventListener("DOMContentLoaded", () => {
    gsap.from("#about p", {
      scrollTrigger: {
        trigger: "#about",
        start: "top 80%",
      },
      y: 30,
      opacity: 0,
      duration: 0.8,
      stagger: 0.2,
    });

    gsap.from("#about .font-mono", {
      scrollTrigger: {
        trigger: "#about .font-mono",
        start: "top 80%",
      },
      x: -30,
      duration: 0.6,
    });

    gsap.from("#about span", {
      scrollTrigger: {
        trigger: "#about span",
        start: "top 80%",
      },
      opacity: 0,
      scale: 0.7,
      duration: 0.2,
      stagger: 0.03,
    });
  });
</script>
