---
import dayjs from 'dayjs'
import type { IExperienceEvent } from "../types";

interface Props {
  events: Array<IExperienceEvent>;
  class?: string;
  cardClass?: string;
}

const { events, class: className, cardClass } = Astro.props;
---

<div class:list={["flex flex-col", className]}>
  {
    events.map((event) => (
      <article class="group/event flex gap-2">
        <div class="flex flex-col items-center">
          <div class="size-5 rounded-full bg-primary-200 border-2 border-primary" />
          <div class="grow w-px border border-primary-50 border-dashed group-last/event:hidden" />
        </div>
        <div
          class:list={[
            "mb-4 flex flex-col gap-1 p-4 rounded-lg shadow-sm transition-shadow group-last/event:mb-0 hover:shadow-md hover:shadow-primary-50",
            cardClass,
          ]}
        >
          <h1 class="font-black text-lg">{event.title}</h1>
          <span class="font-medium text-sm text-contrast-700">
            {dayjs(event.startDate).format('YYYY/MM/DD')} -
            {dayjs(event.endDate).format('YYYY/MM/DD')}
          </span>
          <p class="text-sm">{event.description}</p>
        </div>
      </article>
    ))
  }
</div>
